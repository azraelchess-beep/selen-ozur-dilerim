<!doctype html>
<html lang="tr"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Selen — Özür Dilerim</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b81;--muted:#9aa4b2}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#e6eef6;background:linear-gradient(180deg,var(--bg) 0%, #071226 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:920px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border-radius:20px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:center}
    header{grid-column:1/3;display:flex;gap:16px;align-items:center;margin-bottom:10px;}
    .logo{width:72px;height:72px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:26px;background:linear-gradient(135deg,var(--accent), #ff9aa2);color:white}
    h1{margin:0;font-size:28px}
    p.lead{margin:4px 0 0;color:var(--muted)}

    .left{padding-right:8px}
    .apology{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;border-radius:14px}
    .apology h2{margin:0 0 8px;color:var(--accent)}
    .letter{white-space:pre-wrap;font-size:16px;line-height:1.6;color:#e8f0fb}

    .reveal-btn{margin-top:14px;padding:10px 14px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent),#ff9aa2);color:#071226;font-weight:600;cursor:pointer}

    .right{display:flex;flex-direction:column;gap:12px}
    .card-panel{background:#071728;border-radius:12px;padding:14px}
    .small{font-size:13px;color:var(--muted)}

    .heart{font-size:46px;display:flex;align-items:center;gap:8px}
    .heart .pulse{display:inline-block;transform-origin:center center}

    .reasons{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .reason{background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));padding:10px;border-radius:10px}

    .love-message{text-align:center;font-size:22px;color:#ff6b81;font-weight:bold;margin-top:15px;padding:15px;background:linear-gradient(135deg, rgba(255,107,129,0.1), rgba(255,154,162,0.1));border-radius:12px;border:2px solid rgba(255,107,129,0.3)}
    .hearts-row{display:flex;justify-content:center;gap:8px;margin-top:10px;font-size:24px}

    footer{grid-column:1/3;margin-top:6px;text-align:center;color:var(--muted);font-size:13px}

    @media(max-width:880px){.card{grid-template-columns:1fr;max-width:720px}.right{order:2}.left{order:1}}

    /* Confetti canvas */
    canvas.confetti{position:fixed;top:0;left:0;pointer-events:none;width:100%;height:100%}
    
    /* Müzik çalar stil */
    audio{width:100%;margin-top:8px;border-radius:8px;height:40px;}
    .music-controls{display:flex;gap:8px;justify-content:center;margin-top:8px}
    .music-notice{text-align:center;font-size:11px;color:var(--muted);margin-top:5px;font-style:italic;}
    
    /* Resim stilleri */
    .love-image{width:100%;max-width:100%;border-radius:12px;margin-top:15px;border:2px solid rgba(255,107,129,0.3);box-shadow:0 4px 15px rgba(0,0,0,0.3);}
    .image-container{text-align:center;margin:15px 0;}
    .image-caption{font-size:12px;color:var(--muted);margin-top:8px;font-style:italic;}
    .image-placeholder{background:linear-gradient(135deg, rgba(255,107,129,0.1), rgba(255,154,162,0.1));border-radius:12px;padding:40px;text-align:center;color:var(--muted);margin:15px 0;}
  </style>
</head>
<body>
  <canvas class="confetti" id="confettiCanvas"></canvas>
  <div class="card" role="main">
    <header>
      <div class="logo">💌</div>
      <div>
        <h1>Aşkım, senden özür diliyorum</h1>
        <p class="lead">Bunu yazan: <strong>Muhammet</strong> — Kalbimden gelenleri okumak için aşağıyı aç.</p>
      </div>
    </header>

    <section class="left">
      <div class="apology">
        <h2>Bebişimm,</h2>
        <div id="letter" class="letter" aria-live="polite">Bazen istemeden kırıcı olduğumun farkındayım.
Keşke birbirimizi daha fazla kırmadan gönlünü almayı akıl edebilseydim ama odun kafam bunu düşünemedi işte.Umarım beni affedersin.
Seni seviyorum — Muhammet</div>
        <button class="reveal-btn" id="reveal">Özel Mektubu Göster</button>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="reveal-btn" id="copy">Mektubu Kopyala</button>
          <button class="reveal-btn" id="confetti">Kutla (Konfeti)</button>
        </div>
      </div>

      <!-- ÖZEL RESİM BÖLÜMÜ -->
      <div class="image-container">
        <img src="https://i.imgur.com/ORTsgk7.jpeg" 
             alt="Bizim özel anımız" 
             class="love-image"
             onerror="document.getElementById('imagePlaceholder').style.display='block'">
        <div id="imagePlaceholder" class="image-placeholder" style="display:none">
          ❤️ Resim yüklenemedi - Ama kalbimde her zaman varsın! ❤️
        </div>
        <div class="image-caption">Seni çok seviyorum aşkım 💖</div>
      </div>
    </section>

    <aside class="right">
      <!-- Müzik Çalar -->
      <div class="card-panel">
        <div class="small" style="text-align:center;margin-bottom:8px">🎵 Bizim Şarkımız</div>
        <audio id="musicPlayer" controls>
          <source src="https://drive.google.com/uc?export=download&id=1wwk_S29sen7XKLBUZLkXDuGFp_QhMD2a" type="audio/mpeg">
          Tarayıcınız audio öğesini desteklemiyor.
        </audio>
        <div style="text-align:center;margin-top:6px;font-size:12px;color:var(--muted)">Scorpions - Still Loving You</div>
        <div class="music-controls">
          <button class="reveal-btn" id="playBtn">▶️ Çal</button>
          <button class="reveal-btn" id="pauseBtn">⏸️ Duraklat</button>
          <button class="reveal-btn" id="stopBtn">⏹️ Dur</button>
        </div>
        <div class="music-notice">Şarkı otomatik çalmıyorsa "Çal" butonuna tıkla</div>
      </div>

      <div class="card-panel">
        <div class="heart"><span style="font-size:20px">Selen 💖</span><span class="pulse" id="pulse">❣️</span></div>
        <div class="reasons">
          <div class="reason">1. Sürekli Gotik kızlardan bahsettiğim için özür dilerim benim için sadece sen varsın.</div>
          <div class="reason">2. İşi sürekli cinselliğe vurduğum için özür dilerim.</div>
          <div class="reason">3. Hatalarımı görmek ve düzeltmek istiyorum.</div>
        </div>
        
        <!-- SEVGİ MESAJI VE KALPLER -->
        <div class="love-message">
          SENİ ÇOOOK SEVİYOOOM
          <div class="hearts-row">
            💖❤️💕💓💗💘💝💞🤍💜🧡💛💚💙🤎
          </div>
        </div>
      </div>
    </aside>

    <footer>Her şey için üzgünüm, Selen. Bir adım atmamı istersen, elimi tut.</footer>
  </div>

  <script>
    const defaultText = document.getElementById('letter').textContent.trim();

    // Müzik kontrolü
    const musicPlayer = document.getElementById('musicPlayer');
    
    document.getElementById('playBtn').addEventListener('click', () => {
      musicPlayer.play().catch(e => {
        alert('Müzik çalınamıyor. Lütfen sayfayı yenileyip tekrar deneyin veya tarayıcı izinlerini kontrol edin.');
      });
    });

    document.getElementById('pauseBtn').addEventListener('click', () => {
      musicPlayer.pause();
    });

    document.getElementById('stopBtn').addEventListener('click', () => {
      musicPlayer.pause();
      musicPlayer.currentTime = 0;
    });

    // Sayfa yüklendiğinde müziği hazırla
    window.addEventListener('load', () => {
      musicPlayer.load();
      
      // Resmin yüklendiğinden emin ol
      const img = document.querySelector('.love-image');
      img.onload = function() {
        console.log('Resim başarıyla yüklendi!');
      };
      img.onerror = function() {
        document.getElementById('imagePlaceholder').style.display = 'block';
      };
    });

    document.getElementById('reveal').addEventListener('click', ()=>{
      const letter = document.getElementById('letter');
      letter.style.transform = 'translateY(0)';
      letter.style.opacity = 1;
      flashPulse();
    });

    document.getElementById('copy').addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(document.getElementById('letter').textContent);
        alert('Mektup panoya kopyalandı.');
      }catch(e){alert('Tarayıcı panoya kopyalamaya izin vermiyor.')}
    });

    function flashPulse(){
      const p = document.getElementById('pulse');
      p.animate([{transform:'scale(1)'},{transform:'scale(1.3)'},{transform:'scale(1)'}],{duration:700});
    }

    // Confetti (basit)
    document.getElementById('confetti').addEventListener('click', ()=>{
      runConfetti();
    });

    // Simple canvas confetti implementation
    function runConfetti(){
      const canvas = document.getElementById('confettiCanvas');
      const ctx = canvas.getContext('2d');
      canvas.width = innerWidth; canvas.height = innerHeight;
      const pieces = [];
      for(let i=0;i<120;i++) pieces.push({x:Math.random()*canvas.width,y:Math.random()*-canvas.height,vy:2+Math.random()*6, size:6+Math.random()*8, angle:Math.random()*Math.PI*2, spin: (Math.random()-0.5)*0.2});
      let t=0;
      const colors = ['#ff6b81','#ffd166','#6ee7b7','#9ad0f5','#ff9aa2'];
      function frame(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        for(const p of pieces){
          p.y += p.vy; p.angle += p.spin; p.x += Math.sin(t+p.angle)*1.2;
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.angle);
          ctx.fillStyle = colors[Math.floor(Math.random()*colors.length)];
          ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6);
          ctx.restore();
        }
        t+=0.01;
        if(pieces.some(p=>p.y < canvas.height+50)) requestAnimationFrame(frame);
        else ctx.clearRect(0,0,canvas.width,canvas.height);
      }
      frame();
    }

    window.addEventListener('resize', ()=>{ const c=document.getElementById('confettiCanvas'); c.width=innerWidth; c.height=innerHeight; });
  </script>
</body></html>